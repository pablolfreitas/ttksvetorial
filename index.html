<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abertura de Tickets</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header>
    <h1>ðŸŽ« Sistema de Tickets</h1>
    <nav>
      <a href="index.html" class="nav-btn active">Abrir Ticket</a>
      <a href="painel.html" class="nav-btn">ðŸ“‹ Painel</a>
      <a href="encerrados.html" class="nav-btn">âœ… Encerrados</a>
      <a href="contatos.html" class="nav-btn">ðŸ“ž Contatos</a>
    </nav>
  </header>

  <main class="container-form">
    <div class="form-wrapper">
      <form id="form-ticket">

        <div class="form-row">
          <div class="field">
            <label>TTK *</label>
            <input type="text" id="ttk" placeholder="TT_00021052/2026" required>
          </div>
          <div class="field">
            <label>ID ServiÃ§o</label>
            <input type="text" id="id_servico" placeholder="VIVO|UGN-66656664-069">
          </div>
        </div>

        <div class="form-row">
          <div class="field field-sm">
            <label>ARD</label>
            <input type="text" id="ard" placeholder="Ex: ARD-001" maxlength="15">
          </div>
          <div class="field field-sm">
            <label>SP</label>
            <input type="text" id="sp" placeholder="138, 294">
          </div>
          <div class="field field-sm">
            <label>Clientes Afetados</label>
            <input type="number" id="clientes" placeholder="0" min="0" max="999">
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>CTOs</label>
            <input type="text" id="cto" placeholder="CTO-001, CTO-002..." maxlength="120">
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>Rua</label>
            <input type="text" id="rua" placeholder="Rua das Flores, 123">
          </div>
          <div class="field">
            <label>Bairro</label>
            <input type="text" id="bairro" placeholder="Centro">
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>Cidade</label>
            <select id="cidade">
              <option value=""></option>
              <!-- Ordem alfabÃ©tica com acentos corretos -->
              <option value="Alegrete"              data-sigla="ALG"  data-grupo="SUL">Alegrete</option>
              <option value="BagÃ©"                  data-sigla="BGE"  data-grupo="SUL">BagÃ©</option>
              <option value="Cachoeira do Sul"      data-sigla="CCR"  data-grupo="NORTE">Cachoeira do Sul</option>
              <option value="CamaquÃ£"               data-sigla="CAM"  data-grupo="SUL">CamaquÃ£</option>
              <option value="Canela"                data-sigla="CEN"  data-grupo="SERRA">Canela</option>
              <option value="CapÃ£o da Canoa"        data-sigla="KDK"  data-grupo="SERRA">CapÃ£o da Canoa</option>
              <option value="Carazinho"             data-sigla="CIO"  data-grupo="NORTE">Carazinho</option>
              <option value="Carlos Barbosa"        data-sigla="CLB"  data-grupo="SERRA">Carlos Barbosa</option>
              <option value="Charqueadas"           data-sigla="CQU"  data-grupo="TAQUARI">Charqueadas</option>
              <option value="Dois IrmÃ£os"           data-sigla="DSR"  data-grupo="SERRA">Dois IrmÃ£os</option>
              <option value="Erechim"               data-sigla="ERE"  data-grupo="NORTE">Erechim</option>
              <option value="Estrela"               data-sigla="ETA"  data-grupo="TAQUARI">Estrela</option>
              <option value="Flores da Cunha"       data-sigla="FCA"  data-grupo="SERRA">Flores da Cunha</option>
              <option value="Garibaldi"             data-sigla="GRD"  data-grupo="SERRA">Garibaldi</option>
              <option value="Gramado"               data-sigla="GDO"  data-grupo="SERRA">Gramado</option>
              <option value="Igrejinha"             data-sigla="IJH"  data-grupo="SERRA">Igrejinha</option>
              <option value="IjuÃ­"                  data-sigla="IJU"  data-grupo="NORTE">IjuÃ­</option>
              <option value="Ivoti"                 data-sigla="IVO"  data-grupo="SERRA">Ivoti</option>
              <option value="Lagoa Vermelha"        data-sigla="LVH"  data-grupo="SERRA">Lagoa Vermelha</option>
              <option value="Lajeado"               data-sigla="LJO"  data-grupo="TAQUARI">Lajeado</option>
              <option value="Nova PetrÃ³polis"       data-sigla="NVP"  data-grupo="SERRA">Nova PetrÃ³polis</option>
              <option value="OsÃ³rio"                data-sigla="OSR"  data-grupo="SERRA">OsÃ³rio</option>
              <option value="Palmeira das MissÃµes"  data-sigla="PMM"  data-grupo="NORTE">Palmeira das MissÃµes</option>
              <option value="Santa Rosa"            data-sigla="SRO"  data-grupo="NORTE">Santa Rosa</option>
              <option value="Santana do Livramento" data-sigla="SIV"  data-grupo="SUL">Santana do Livramento</option>
              <option value="Santo Ã‚ngelo"          data-sigla="SAN"  data-grupo="NORTE">Santo Ã‚ngelo</option>
              <option value="SÃ£o Marcos"            data-sigla="SCS"  data-grupo="SERRA">SÃ£o Marcos</option>
              <option value="Sarandi"               data-sigla="SRD"  data-grupo="NORTE">Sarandi</option>
              <option value="Taquara"               data-sigla="TQR"  data-grupo="SERRA">Taquara</option>
              <option value="TeutÃ´nia"              data-sigla="TUN"  data-grupo="TAQUARI">TeutÃ´nia</option>
              <option value="Torres"                data-sigla="TES"  data-grupo="SERRA">Torres</option>
              <option value="TramandaÃ­"             data-sigla="TRI"  data-grupo="SERRA">TramandaÃ­</option>
              <option value="TrÃªs de Maio"          data-sigla="TMI"  data-grupo="NORTE">TrÃªs de Maio</option>
              <option value="Uruguaiana"            data-sigla="UGN"  data-grupo="SUL">Uruguaiana</option>
              <option value="Vacaria"               data-sigla="VAA"  data-grupo="SERRA">Vacaria</option>
              <option value="VenÃ¢ncio Aires"        data-sigla="VAI"  data-grupo="TAQUARI">VenÃ¢ncio Aires</option>
              <option value="VeranÃ³polis"           data-sigla="VNS"  data-grupo="SERRA">VeranÃ³polis</option>
              <option value="Xangri-lÃ¡"             data-sigla="XNLA" data-grupo="SERRA">Xangri-lÃ¡</option>
            </select>
          </div>
          <div class="field field-sm">
            <label>Sigla</label>
            <input type="text" id="sigla" placeholder="â€”" maxlength="5" readonly style="opacity:0.6;cursor:default;">
          </div>
          <div class="field">
            <label>Data InÃ­cio *</label>
            <input type="datetime-local" id="data_inicio" required>
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>DescriÃ§Ã£o (painel) *</label>
            <input type="text" id="regiao" value="RegiÃ£o acionada, aguardando disponibilidade de equipe" required>
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>ObservaÃ§Ãµes para a equipe</label>
            <textarea id="obs" rows="3" placeholder="InformaÃ§Ãµes adicionais, cuidados, detalhes relevantes para a equipe..." maxlength="600"></textarea>
          </div>
        </div>

        <div class="form-row">
          <div class="field">
            <label>TAG *</label>
            <div class="tags-group">
              <label class="tag-option"><input type="radio" name="tag" value="Massiva"> Massiva</label>
              <label class="tag-option"><input type="radio" name="tag" value="PendÃªncia TÃ©cnica"> PendÃªncia TÃ©cnica</label>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" id="btn-enviar" class="btn-primary">âœ… Salvar e Gerar MÃ¡scara</button>
          <button type="button" id="btn-limpar" class="btn-secondary">ðŸ§¹ Limpar</button>
        </div>
      </form>
    </div>

    <!-- MÃ¡scara gerada -->
    <div class="mascara-wrapper">
      <div class="mascara-header">
        <span>ðŸ“‹ MÃ¡scara para copiar</span>
        <button id="btn-copiar" class="btn-copiar">âŽ˜ Copiar</button>
      </div>
      <textarea id="mascara-texto" readonly placeholder="A mÃ¡scara aparecerÃ¡ aqui apÃ³s salvar o ticket..."></textarea>
    </div>
  </main>

  <div id="alerta" class="alerta hidden"></div>

  <script src="assets/js/supabase-config.js"></script>
  <script src="assets/js/form.js"></script>
</body>
</html>
